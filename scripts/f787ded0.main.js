window.DanhillIo={Models:{},Collections:{},Views:{},Routers:{},init:function(){"use strict";var e=new DanhillIo.Collections.Newspapers;e.reset(data,{parse:!0}),new this.Views.NewspaperContainerView({collection:e}),$("#paper-select").change(function(){var e=$($(this).val()).offset().top-$("#jumbo-nav").height();$(window).scrollTop(e)});var n=function(){$("#jumbo-clone").css("width",$(".container").width())},t=$("#jumbo-nav").offset().top;$(window).scroll(function(){if($(window).scrollTop()>t){var e=$("#jumbo-clone");if(!e.length){var e=$("#jumbo-nav").clone();e.attr("id","jumbo-clone"),$(".container").append(e),$("#jumbo-clone select").change(function(){var e=$($(this).val()).offset().top-$("#jumbo-nav").height();$(window).scrollTop(e)})}$("#jumbo-clone").addClass("fixed"),n()}else $("#jumbo-clone").remove()});var i=_.debounce(n,300);$(window).resize(i)}},$(document).ready(function(){"use strict";DanhillIo.init(),$(".row h3 a").each(function(){$(this).bind("inview",function(e,n){if(n){var t="#"+$(this).attr("id");$("#paper-select").val(t),$("#jumbo-clone select").val(t)}})})}),this.JST=this.JST||{},this.JST["app/scripts/templates/danhill.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)__p+="<h3>"+(null==(__t=title)?"":__t)+'</h3> <span class="proj-date">'+(null==(__t=date)?"":__t)+"</span>\n<p>"+(null==(__t=description)?"":__t)+"</p>\n\n",projects.length&&(__p+="\n    <h5>PROJECTS</h5>\n    ",_.each(projects,function(e){__p+="\n        ",__p+=e.img?'\n            <div class="row">\n                <div class="col-sm-3">\n                    <a href=\''+(null==(__t=e.link)?"":__t)+"'><img src='images/"+(null==(__t=e.img)?"":__t)+"'/></a>\n                </div>\n                <div class=\"col-9\">\n                    <a href='"+(null==(__t=e.link)?"":__t)+"'><strong>"+(null==(__t=e.title)?"":__t)+"</strong></a>\n                    <p>"+(null==(__t=e.description)?"":__t)+"</p>\n                </div>\n            </div>\n        ":'\n            <div class="row">\n                <a href=\''+(null==(__t=e.link)?"":__t)+"'><strong>"+(null==(__t=e.title)?"":__t)+"</strong></a>\n                <p>"+(null==(__t=e.description)?"":__t)+"</p>\n            </div>\n    "})),__p+="\n";return __p},this.JST["app/scripts/templates/project.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+="<p>This is a project</p>\n";return __p},DanhillIo.Models=DanhillIo.Models||{},function(){"use strict";DanhillIo.Models.Newspaper=Backbone.Model.extend({url:"",initialize:function(){},defaults:{title:"",date:"",description:"",projects:[]},validate:function(){},parse:function(e){return e}})}(),DanhillIo.Collections=DanhillIo.Collections||{},function(){"use strict";DanhillIo.Collections.Newspapers=Backbone.Collection.extend({model:DanhillIo.Models.Newspaper}),DanhillIo.Collections.Projects=Backbone.Collection.extend({model:DanhillIo.Models.Project})}(),DanhillIo.Views=DanhillIo.Views||{},function(){"use strict";DanhillIo.Views.NewspaperContainerView=Backbone.View.extend({el:"#news-container",initialize:function(){this.render()},render:function(){var e=[];this.collection.each(function(n){var t=new DanhillIo.Views.NewspaperView({model:n});e.push(t.render().el)}),this.$el.append(e)}}),DanhillIo.Views.NewspaperView=Backbone.View.extend({template:JST["app/scripts/templates/danhill.ejs"],tagName:"div",id:"",className:"row",events:{},render:function(){return this.$el.append(this.template(this.model.toJSON())),this}})}();
